<div ng-click="enterEditMode()" ng-form="innerForm">
    <span ng-show="!editMode">{{ params.value | localizeDate:params.type:'short' }}</span>

    <i class="edit fa fa-pencil-square" ng-show="!editMode"></i>
    <i class="saved fa fa-check" ng-show="!editMode" ng-class="{ active: params.saved }"></i>

    <textarea ng-keyup="keyUp($event)" type="{{ (params.type === 'time') ? 'text' : (params.type || 'text') }}"
        ng-model="params.value" ng-blur="submit(); editMode = false" class="editable"
        ng-show="params.type === 'text_long' && editMode" ng-required="params.required" name="{{ params.name }}"/>

    <input ng-keyup="keyUp($event)" type="{{ (params.type === 'time') ? 'text' : (params.type || 'text') }}"
        ng-model="params.value" ng-blur="submit(); editMode = false"
        ng-show="editMode && params.type !== 'text_long'" ng-required="params.required" name="{{ params.name }}"/>
</div>
